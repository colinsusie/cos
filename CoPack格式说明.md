CoPack 由 Value 组成，一个 Value 由下面部分组成：

```csharp
| type | cookie | payload |
```

1. type 占高3位，最多有8种类型
2. cookie 占低5位，为type提供额外信息，type 和cookie合并在一起占一个字节称为header
3. payload 根据type的不同而不同
4. 数值全部用小端的字节序。

### NullBoolValue

type 等于 NullBool(0)，可以表示Null和Bool类型
cookie 用于标识具体的值，0表示null, 1表示false，2表示true
总共占用1个字节。

```bash
+---------+
|000 00000|        // null
+---------+
+---------+
|000 00001|        // false
+---------+
+---------+
|000 00002|        // true
+---------+
```

### IntValue

type 等于 Int(1)，表示一个整型值

cookie 和 payload 组成一个 VarInt，规则如下：

* cookie = 0XXXX  即最高位为0，低4位表示 0\~15的整型值，无payload:

```bash
+---------+
|001 0xxxx|        // 1Bytes: 0~15
+---------+
```

*  cookie = 10000，payload为1个字节的有符号整型值

```bash
+---------+--------+
|001 10000|  int8  |    // 2Bytes
+---------+--------+

```

* cookie = 10001，payload为1个字节的无符号整型值

```bash
+---------+--------+
|001 10001|  uint8 |    // 2Bytes
+---------+--------+
```

* cookie = 10010，payload为2个字节的有符号整型值

```bash
+---------+--------+--------+
|001 10010|  int16          |    // 3Bytes
+---------+--------+--------+
```

* cookie = 10011，payload为2个字节的无符号整型值

```bash
+---------+--------+--------+
|001 10011|  uint16         |    // 3Bytes
+---------+--------+--------+
```

* cookie = 10100，payload为4个字节的有符号整型值

```bash
+---------+--------+--------+--------+--------+
|001 10100|  int32                            |    // 5Bytes
+---------+--------+--------+--------+--------+
```

* cookie = 10101，payload为4个字节的无符号整型值

```bash
+---------+--------+--------+--------+--------+
|001 10101|  uint32                           |    // 5Bytes
+---------+--------+--------+--------+--------+
```

* cookie = 10110，payload为8个字节的有符号整型值

```bash
+---------+--------+--------+--------+--------+--------+--------+--------+-------+
|001 10110|  int64                                                               |   // 9Bytes
+---------+--------+--------+--------+--------+--------+--------+--------+-------+
```

* cookie = 10111，payload为8个字节的无符号整型值

```bash
+---------+--------+--------+--------+--------+--------+--------+--------+--------+
|001 10111|  uint64                                                               |  // 9Bytes
+---------+--------+--------+--------+--------+--------+--------+--------+--------+
```

### FloatValue

type等于Float(2)，代表一个浮点值

cookie 标识是比单精度还是双精度，0表示0值无payload，1表示单精度payload为4个字节的浮点数，2表示双精度payload为8字节的浮点数：

```bash
+---------+
|010 00000|    // 1Bytes
+---------+
+---------+--------+--------+--------+--------+
|010 00001|  float32                          |    // 5Bytes
+---------+--------+--------+--------+--------+
+---------+--------+--------+--------+--------+--------+--------+--------+-------+
|010 00010|  float64                                                             |   // 9Bytes
+---------+--------+--------+--------+--------+--------+--------+--------+-------+

```

### ListValue

type等于List(3)，代表一个由 Value 组成列表

接下来是VarInt，代表列表的长度

payload是 Value 列表

```bash
+---------+========+~~~~~~~~~~~~~~~~~|
|011|    varint    |   value | ...   |
+---------+========+~~~~~~~~~~~~~~~~~|
```

### MapValue

type等于Map(4)，代表一个由 Value 对组成映射表

接下来是VarInt：

如果不等于0则减1等于映射表的长度

如果等于0则一直读KV值，一直读到Null。

payload是 (Value, Value) 列表，一个Value代表K，另一个代表V

```bash
+---------+========+~~~~~~~~~~~~~~~~~~~~~~~~|
|100|  varint(!0)  |  (value, value) | ...  |
+---------+========+~~~~~~~~~~~~~~~~~~~~~~~~|
+---------+========+~~~~~~~~~~~~~~~~~~~~~~~~|--------+
|100|  0           |  (value, value) | ...  |   Null |
+---------+========+~~~~~~~~~~~~~~~~~~~~~~~~|--------+
```

### UnionValue

type等于Union(5)，代表一个联合，用于实现面向对象中的继承。

接下来是VarInt，标识联合的类型。

payload是一个Value

```bash
+---------+========+~~~~~~~~~~~~~~|
|101|    varint    |   value      |
+---------+========+~~~~~~~~~~~~~~|
```

### BytesValue

type等于Bytes(6)，代表一个字节流，字符串存储为utf8字节流

接下来是VarInt，代表字节流的长度

playload是字节流

```bash
+---------+========+~~~~~~~~~~~~~~|
|110|    varint    |   byte[]     |
+---------+========+~~~~~~~~~~~~~~|
```

### StringValue

type等于String(7)，代表一个字符串，字符串存储为utf8字节流

接下来是VarInt，代表字节流的长度

playload是字节流

```bash
+---------+========+~~~~~~~~~~~~~~|
|111|    varint    |   byte[]     |
+---------+========+~~~~~~~~~~~~~~|
```
